#KPtoIMDb#

<sup>*Presented readme written on Russian because of obvious lack of interest to Russian-oriented movie site from non-Russian speakers*</sup>

**KPtoIMDb** - скрипт, предназначенный для экспорта пользовательских оценок c Кинопоиска на IMDb. Всё просто.

###Необходимые приготовления перед запуском###

1. Экспортируйте через Кинопоиск свои оценки в Excel файл.<br />
![Профиль -> Оценки -> Экспорт в MS Excel](/img/export.png?raw=true)
2. Установите **Python 3**.<br />
<https://www.python.org/ftp/python/3.6.0/python-3.6.0.exe>
3. Установите необходимые пакеты через консоль.<br />
`pip install -r requirements.txt`
4. Если вы странный человек, и у вас нет **Fifefox**, то установите его! С другими браузерами скрипт работать не будет.<br />
<https://www.mozilla.org/firefox/new/>
5. Залогинитесь на IMDb, используя Firefox.<br />
<https://www.imdb.com/registration/signin>
5. Скачайте **geckodriver** и распакуйте его в папку со скриптом. Этот драйвер нужен для того, чтобы скрипт мог манипулировать браузером.<br />
<https://github.com/mozilla/geckodriver/releases>
6. Найдите папку с текущим профилем Firefox. На Windows она должна быть где-то здесь:<br />
`%AppData%\Mozilla\Firefox\Profiles`

###Запуск и работа скрипта###
1. Скрипту передаются два параметра: Excel файл с Кинопоиска и путь к папке профиля Firefox. Пример команды в консоли:<br />
`rating_export.py kinopoisk.ru-1372503-votes.xls C:\Users\Username\AppData\Roaming\Mozilla\Firefox\Profiles\1smt42.default`
2. От запуска до старта непосредственного выставления оценок может пройти несколько минут. Не спешите останавливать скрипт, дайте ему некоторое время.
3. Скрипт перебирает фильмы из файла и пытается найти их с помощью поиска IMDb. Если название из файла и название на IMDb не совпадают (а это верно для всех фильмов с не-англоязычными названиями), то поиск скорее всего все равно найдет нужный фильм, но для перестраховки такие фильмы и ссылка на IMDb сохраняются в файл **not_exact_match.txt**. Туда же сохраняются фильмы, у которых немного не сошлась дата (очень часто в базах КП и IMDb дата выхода различается на год). Проверьте файл после работы скрипта.
4. Фильмы, которые не удалось найти, сохраняются в файл **skipped_films.txt**. Туда же сохраняются фильмы без рейтинга — на IMDb нет возможности отмечать фильм "просмотренным". Этот файл тоже стоит проверить после работы скрипта.
5. Весь вывод, который вы видите в консоли, также сохраняется в файл **log.txt**.